<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2017-09-28 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Cross Platform Launcher Plugin - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20170928" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                cross-platform-launcher-plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-09-28</span>
                  &nbsp;| <span id="projectVersion">Version: 1.1.1</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="usage.html" title="Usage">Usage</a>
            </li>
                  <li class="none">
            <strong>FAQ</strong>
          </li>
          </ul>
                       <h5>Examples</h5>
                  <ul>
                  <li class="none">
                          <a href="examples/index.html" title="Examples Index">Examples Index</a>
            </li>
                  <li class="none">
                          <a href="examples/macosx.html" title="Mac OS X">Mac OS X</a>
            </li>
                  <li class="none">
                          <a href="examples/windows.html" title="Windows">Windows</a>
            </li>
                  <li class="none">
                          <a href="examples/linux.html" title="Linux">Linux</a>
            </li>
                  <li class="none">
                          <a href="examples/nar.html" title="JNI with the NAR Plugin">JNI with the NAR Plugin</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>Frequently Asked Questions<a name="Frequently_Asked_Questions"></a></h2>
<p>(Or things that may be changed/fixed as it moves out of SNAPSHOT status)</p>
<div class="section">
<h3>General<a name="General"></a></h3>
<ul>
<li>Q. Why is the plugin implementing its own property interpolation?</li>
<li>A. It was easy to implement, I already had similar code. I might change it to use the relevant Maven API for this later.</li>
<li>Q. I need to pass certain system properties to the JVM, using -Dxxx=yyy. How is this done?</li>
<li>A. Use the &lt;systemProperties&gt; section of your configuration - see the answer below. </li>
<li>Q. I need to set custom VM parameters such as min/max heap size. How is this done?</li>
<li>A. On Windows, some of these can be set in the Janel launcher file - see the Windows-specific section below. Generally, use the &lt;vmArguments&gt; section of your configuration, like this:
<div class="source">
<pre>      &lt;plugin&gt;
        &lt;groupId&gt;org.devzendo&lt;/groupId&gt;
        &lt;artifactId&gt;CrossPlatformLauncherPlugin&lt;/artifactId&gt;
        &lt;configuration&gt;
          &lt;os&gt;Windows&lt;/os&gt;
          &lt;applicationName&gt;BeanMinder&lt;/applicationName&gt;
          &lt;mainClassName&gt;org.devzendo.minimiser.MiniMiser&lt;/mainClassName&gt;
          &lt;systemProperties&gt;
            &lt;param&gt;myWindowsProperty=foo&lt;/param&gt; &lt;!-- like -DmyWindowsProperty=foo --&gt;
            &lt;param&gt;anotherWindowsProperty=bar&lt;/param&gt;
          &lt;/systemProperties&gt;
          &lt;vmArguments&gt;
             &lt;param&gt;-Xcheck:jni&lt;/param&gt; &lt;!-- passed straight through to the JVM --&gt;
             &lt;param&gt;-enableassertions&lt;/param&gt;
             &lt;param&gt;-verbose:jni&lt;/param&gt;
          &lt;/vmArguments&gt;
        &lt;/configuration&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;createlauncher&lt;/id&gt;
            &lt;phase&gt;generate-resources&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;createlauncher&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
</pre></div></li>
<li>Q. How can I define some launcher properties in a parent pom, and merge them into the platform-specific launcher, along with some platform-specific properties?</li>
<li>A. Define the common properties in a pluginManagement section in the parent pom, and in the child pom, use the combine.children=&quot;append&quot; attribute.
<p>See <a class="externalLink" href="http://docs.codehaus.org/display/MAVENUSER/FAQs-1#FAQs-1-HowdoImergealistofconfigurationitemsinaparentPOMwiththoseinachildPOM%3F">here</a> for details; you must be using Maven 2.0.8 or greater.</p>
<p>e.g. parent pom:</p>
<div class="source">
<pre>    &lt;build&gt;
      &lt;pluginManagement&gt;
        &lt;plugins&gt;
          &lt;plugin&gt;
            &lt;groupId&gt;org.devzendo&lt;/groupId&gt;
            &lt;artifactId&gt;CrossPlatformLauncherPlugin&lt;/artifactId&gt;
            &lt;executions&gt;
              &lt;execution&gt;
                &lt;id&gt;createlauncher&lt;/id&gt;
                &lt;phase&gt;generate-resources&lt;/phase&gt;
                &lt;goals&gt;
                  &lt;goal&gt;createlauncher&lt;/goal&gt;
                &lt;/goals&gt;
                &lt;configuration&gt;
                  &lt;systemProperties&gt;
                    &lt;param&gt;commonProperty=xyz&lt;/param&gt;
                    &lt;param&gt;anotherCommonProperty=abc&lt;/param&gt;
                  &lt;/systemProperties&gt;
                  &lt;vmArguments&gt;
                    &lt;param&gt;-Xmx1024&lt;/param&gt;
                  &lt;/vmArguments&gt;
                &lt;/configuration&gt;
              &lt;/execution&gt;
            &lt;/executions&gt;
          &lt;/plugin&gt;
        &lt;/plugins&gt;
      &lt;/pluginManagement&gt;
    &lt;/build&gt;</pre></div>
<p>And in the child pom:</p>
<div class="source">
<pre>    &lt;build&gt;
      &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;groupId&gt;org.devzendo&lt;/groupId&gt;
          &lt;artifactId&gt;CrossPlatformLauncherPlugin&lt;/artifactId&gt;
          &lt;configuration&gt;
            &lt;os&gt;MacOSX&lt;/os&gt;
            &lt;applicationName&gt;BeanMinder&lt;/applicationName&gt;
            &lt;mainClassName&gt;org.devzendo.minimiser.MiniMiser&lt;/mainClassName&gt;
            &lt;iconsFileName&gt;BeanMinder.icns&lt;/iconsFileName&gt;
            &lt;systemProperties combine.children=&quot;append&quot;&gt;
              &lt;param&gt;myMacOsXProperty=foo&lt;/param&gt;
              &lt;param&gt;anotherMacOsXProperty=bar&lt;/param&gt;
            &lt;/systemProperties&gt;
            &lt;vmArguments combine.children=&quot;append&quot;&gt;
              &lt;param&gt;-Xcheck:jni&lt;/param&gt; &lt;!-- debug JNI on Mac OS X --&gt;
            &lt;/vmArguments&gt;
          &lt;/configuration&gt;
          &lt;executions&gt;
            &lt;execution&gt;
              &lt;id&gt;createlauncher&lt;/id&gt;
              &lt;phase&gt;generate-resources&lt;/phase&gt;
              &lt;goals&gt;
                &lt;goal&gt;createlauncher&lt;/goal&gt;
              &lt;/goals&gt;
            &lt;/execution&gt;
          &lt;/executions&gt;
        &lt;/plugin&gt;
        ...</pre></div></li>
<li>Q. How can I add Java Native Interface libraries (.dll on Windows; .so on Linux; .jnilib on Mac OS X) to my project?</li>
<li>A. By far the easiest option is to use the <a class="externalLink" href="http://duns.github.com/maven-nar-plugin/">Maven NAR Plugin</a> to build your native code into NAR (Native ARchive) attached artifacts.
<p>Then specify the relevant AOL-classifier:type narClassifier parameters in your pom.xml so that the CrossPlatformLauncherPlugin copies the relevant JNI files into the launcher's library directory appropriately.</p>
<p>See the <a href="./examples/nar.html">NAR Example</a> for a worked example.</p></li></ul></div>
<div class="section">
<h3>Windows-specific<a name="Windows-specific"></a></h3>
<ul>
<li>Q. My application always displays a Command Prompt window before showing its GUI. How can I stop this?</li>
<li>A. The Janel launcher can be used for launching Console apps, and GUIs. You need to choose the correct one. The default is GUI, so presumably you have set it to Console. Place one of these in your configuration:
<div class="source">
<pre>          &lt;!-- janelType must be used before v0.2.1 of the plugin --&gt;
          &lt;janelType&gt;Console&lt;/janelType&gt; &lt;!-- or --&gt;
          &lt;janelType&gt;GUI&lt;/janelType&gt;
          &lt;!-- In v0.2.1, janelType must be changed to launcherType --&gt;
          &lt;launcherType&gt;Console&lt;/launcherType&gt; &lt;!-- or --&gt;
          &lt;launcherType&gt;GUI&lt;/launcherType&gt;</pre></div></li>
<li>Q. How can I set custom Janel settings?</li>
<li>A. Use the &lt;janelCustomLines&gt; array, like this:
<div class="source">
<pre>          &lt;janelCustomLines&gt;
            &lt;param&gt;janel.min.java.version=1.4&lt;/param&gt;
            &lt;param&gt;janel.max.java.version=1.5&lt;/param&gt;
          &lt;/janelCustomLines&gt;</pre></div></li>
<li>Q. How can I customise the .exe's icon?</li>
<li>A. You can't, currently. You'd have to build the Janel launcher from its own source, replacing its icon, or use some resource compiler/editor. I might look at munging the binary, if it's an easy replacement.</li></ul></div>
<div class="section">
<h3>Mac OS X-specific<a name="Mac_OS_X-specific"></a></h3>
<ul>
<li>Q. My app doesn't show the correct name in its menu (next to the Apple menu).</li>
<li>A. You need to set the application name, as in this fragment:
<div class="source">
<pre>        &lt;configuration&gt;
          &lt;os&gt;MacOSX&lt;/os&gt;
          &lt;applicationName&gt;BeanMinder&lt;/applicationName&gt;
          &lt;mainClassName&gt;org.devzendo.minimiser.MiniMiser&lt;/mainClassName&gt;
          &lt;iconsFileName&gt;BeanMinder.icns&lt;/iconsFileName&gt;</pre></div></li>
<li>Q. How can I add the Quaqua look and feel's native libraries into my launcher?</li>
<li>A. Note that versions 9.1 and 7.3.4 are released to the Central Maven Repository in the org.devzendo group id. The author of Quaqua, Werner Randelshofer does not publish to Central, so DevZendo.org has produced this packaging of it. Note that the 7.3.4 artifacts are called Quaqua and LibQuaqua, whereas 9.1 now adopts the Maven Artifact Naming Convention of quaqua and libquaqua.
<p>You need to add a dependency on the Java portion of them, (possibly in a profile that's only activated on Mac OS X), and extract the native portion of them into the correct place in your launcher .app directory structure using the Maven dependency plugin:</p>
<div class="source">
<pre>  &lt;dependencies&gt;
    ...
    &lt;dependency&gt;
      &lt;groupId&gt;org.devzendo&lt;/groupId&gt;  &lt;!-- Note that this uses DevZendo.org's Maven packaging of Quaqua --&gt;
      &lt;artifactId&gt;quaqua&lt;/artifactId&gt;  &lt;!-- The Java portion --&gt;
      &lt;version&gt;9.1&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;!-- Create the Mac OS X BeanMinder.app launcher structure under 
           target/macosx. --&gt;
      ...
      &lt;!-- Copy the Quaqua native libraries into the correct location in
           the Mac OS X launcher structure created above. --&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;unpack-dependencies&lt;/id&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;goals&gt;
                &lt;goal&gt;unpack&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;artifactItems&gt;
                &lt;artifactItem&gt;
                  &lt;groupId&gt;org.devzendo&lt;/groupId&gt;
                  &lt;artifactId&gt;libquaqua&lt;/artifactId&gt;
                  &lt;version&gt;9.1&lt;/version&gt; &lt;!-- The JNI libraries --&gt;
                  &lt;type&gt;zip&lt;/type&gt;
                  &lt;overWrite&gt;true&lt;/overWrite&gt;
                  &lt;includes&gt;*&lt;/includes&gt;
                  &lt;outputDirectory&gt;${project.build.directory}/macosx/BeanMinder.app/Contents/Resources/Java/lib&lt;/outputDirectory&gt;
                &lt;/artifactItem&gt;
              &lt;/artifactItems&gt;
              &lt;!-- other configurations here --&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;

      &lt;!-- Package up the above .app structure into a .tar.gz archive  --&gt;
      ...
    &lt;/plugins&gt;
  &lt;/build&gt;
</pre></div></li>
<li>Q. How can I build a command line application, rather than a .app application structure?</li>
<li>A. By default, the plugin will create a .app application structure. To change this to create a structure similar to that used on Linux (to create a script that'll execute your code as a command line program), change the launcher type:
<div class="source">
<pre>          &lt;launcherType&gt;Console&lt;/launcherType&gt; &lt;!-- or --&gt;
          &lt;launcherType&gt;GUI&lt;/launcherType&gt;</pre></div></li>
<li>Q. My GUI launcher is starting with Apple Java 1.6, and I need Oracle Java 7 or 8 (which I have installed). How can I run in a more modern JVM?</li>
<li>A. This is due to the 'JavaApplicationStub' that's in your .app's Contents/MacOS directory. This Maven plugin provides Apple's stub by default, but since this only works with Apple Java 1.6, it also supplies Tobias Fischer's Universal JavaApplicationStub. Please see https://github.com/tofi86/universalJavaApplicationStub for in-depth details, but in your launcher configuration, you need to supply:
<div class="source">
<pre>          &lt;stubType&gt;Universal&lt;/stubType&gt;</pre></div></li></ul></div>
<div class="section">
<h3>Linux specific<a name="Linux_specific"></a></h3>
<ul>
<li>Nothing of note, as yet.</li></ul></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2017
                        <a href="http://devzendo.org/">DevZendo.org</a>.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
